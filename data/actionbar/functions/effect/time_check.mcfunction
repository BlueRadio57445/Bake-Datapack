execute store result score $effect.id actionbar.state run data get storage actionbar:player Data.EffectSchedule[0].Id

execute if score $effect.id actionbar.state matches 1 if data storage actionbar:player Data.PositiveEffects[{Id:1}] run data modify storage actionbar:player Data.PositiveEffects[{Id:1}].selected set value 1b
execute if score $effect.id actionbar.state matches 2 if data storage actionbar:player Data.NegativeEffects[{Id:2}] run data modify storage actionbar:player Data.NegativeEffects[{Id:2}].selected set value 1b
execute if score $effect.id actionbar.state matches 3 if data storage actionbar:player Data.PositiveEffects[{Id:3}] run data modify storage actionbar:player Data.PositiveEffects[{Id:3}].selected set value 1b
execute if score $effect.id actionbar.state matches 4 if data storage actionbar:player Data.NegativeEffects[{Id:4}] run data modify storage actionbar:player Data.NegativeEffects[{Id:4}].selected set value 1b
execute if score $effect.id actionbar.state matches 5 if data storage actionbar:player Data.PositiveEffects[{Id:5}] run data modify storage actionbar:player Data.PositiveEffects[{Id:5}].selected set value 1b
execute if score $effect.id actionbar.state matches 6 if data storage actionbar:player Data.PositiveEffects[{Id:6}] run data modify storage actionbar:player Data.PositiveEffects[{Id:6}].selected set value 1b
execute if score $effect.id actionbar.state matches 7 if data storage actionbar:player Data.NegativeEffects[{Id:7}] run data modify storage actionbar:player Data.NegativeEffects[{Id:7}].selected set value 1b
execute if score $effect.id actionbar.state matches 8 if data storage actionbar:player Data.PositiveEffects[{Id:8}] run data modify storage actionbar:player Data.PositiveEffects[{Id:8}].selected set value 1b
execute if score $effect.id actionbar.state matches 9 if data storage actionbar:player Data.NegativeEffects[{Id:9}] run data modify storage actionbar:player Data.NegativeEffects[{Id:9}].selected set value 1b
execute if score $effect.id actionbar.state matches 10 if data storage actionbar:player Data.PositiveEffects[{Id:10}] run data modify storage actionbar:player Data.PositiveEffects[{Id:10}].selected set value 1b
execute if score $effect.id actionbar.state matches 11 if data storage actionbar:player Data.PositiveEffects[{Id:11}] run data modify storage actionbar:player Data.PositiveEffects[{Id:11}].selected set value 1b
execute if score $effect.id actionbar.state matches 12 if data storage actionbar:player Data.PositiveEffects[{Id:12}] run data modify storage actionbar:player Data.PositiveEffects[{Id:12}].selected set value 1b
execute if score $effect.id actionbar.state matches 13 if data storage actionbar:player Data.PositiveEffects[{Id:13}] run data modify storage actionbar:player Data.PositiveEffects[{Id:13}].selected set value 1b
execute if score $effect.id actionbar.state matches 14 if data storage actionbar:player Data.PositiveEffects[{Id:14}] run data modify storage actionbar:player Data.PositiveEffects[{Id:14}].selected set value 1b
execute if score $effect.id actionbar.state matches 15 if data storage actionbar:player Data.NegativeEffects[{Id:15}] run data modify storage actionbar:player Data.NegativeEffects[{Id:15}].selected set value 1b
execute if score $effect.id actionbar.state matches 16 if data storage actionbar:player Data.PositiveEffects[{Id:16}] run data modify storage actionbar:player Data.PositiveEffects[{Id:16}].selected set value 1b
execute if score $effect.id actionbar.state matches 17 if data storage actionbar:player Data.NegativeEffects[{Id:17}] run data modify storage actionbar:player Data.NegativeEffects[{Id:17}].selected set value 1b
execute if score $effect.id actionbar.state matches 18 if data storage actionbar:player Data.NegativeEffects[{Id:18}] run data modify storage actionbar:player Data.NegativeEffects[{Id:18}].selected set value 1b
execute if score $effect.id actionbar.state matches 19 if data storage actionbar:player Data.NegativeEffects[{Id:19}] run data modify storage actionbar:player Data.NegativeEffects[{Id:19}].selected set value 1b
execute if score $effect.id actionbar.state matches 20 if data storage actionbar:player Data.NegativeEffects[{Id:20}] run data modify storage actionbar:player Data.NegativeEffects[{Id:20}].selected set value 1b
execute if score $effect.id actionbar.state matches 21 if data storage actionbar:player Data.PositiveEffects[{Id:21}] run data modify storage actionbar:player Data.PositiveEffects[{Id:21}].selected set value 1b
execute if score $effect.id actionbar.state matches 22 if data storage actionbar:player Data.PositiveEffects[{Id:22}] run data modify storage actionbar:player Data.PositiveEffects[{Id:22}].selected set value 1b
execute if score $effect.id actionbar.state matches 23 if data storage actionbar:player Data.PositiveEffects[{Id:23}] run data modify storage actionbar:player Data.PositiveEffects[{Id:23}].selected set value 1b
execute if score $effect.id actionbar.state matches 24 if data storage actionbar:player Data.PositiveEffects[{Id:24}] run data modify storage actionbar:player Data.PositiveEffects[{Id:24}].selected set value 1b
execute if score $effect.id actionbar.state matches 25 if data storage actionbar:player Data.NegativeEffects[{Id:25}] run data modify storage actionbar:player Data.NegativeEffects[{Id:25}].selected set value 1b
execute if score $effect.id actionbar.state matches 26 if data storage actionbar:player Data.PositiveEffects[{Id:26}] run data modify storage actionbar:player Data.PositiveEffects[{Id:26}].selected set value 1b
execute if score $effect.id actionbar.state matches 27 if data storage actionbar:player Data.NegativeEffects[{Id:27}] run data modify storage actionbar:player Data.NegativeEffects[{Id:27}].selected set value 1b
execute if score $effect.id actionbar.state matches 28 if data storage actionbar:player Data.PositiveEffects[{Id:28}] run data modify storage actionbar:player Data.PositiveEffects[{Id:28}].selected set value 1b
execute if score $effect.id actionbar.state matches 29 if data storage actionbar:player Data.PositiveEffects[{Id:29}] run data modify storage actionbar:player Data.PositiveEffects[{Id:29}].selected set value 1b
execute if score $effect.id actionbar.state matches 30 if data storage actionbar:player Data.PositiveEffects[{Id:30}] run data modify storage actionbar:player Data.PositiveEffects[{Id:30}].selected set value 1b
execute if score $effect.id actionbar.state matches 31 if data storage actionbar:player Data.NegativeEffects[{Id:31}] run data modify storage actionbar:player Data.NegativeEffects[{Id:31}].selected set value 1b
execute if score $effect.id actionbar.state matches 32 if data storage actionbar:player Data.PositiveEffects[{Id:32}] run data modify storage actionbar:player Data.PositiveEffects[{Id:32}].selected set value 1b
execute if score $effect.id actionbar.state matches 33 if data storage actionbar:player Data.NegativeEffects[{Id:33}] run data modify storage actionbar:player Data.NegativeEffects[{Id:33}].selected set value 1b

scoreboard players set $temp actionbar.state 0
execute if data storage actionbar:player Data.NegativeEffects[{selected:1b}] run scoreboard players set $temp actionbar.state -1
execute if data storage actionbar:player Data.PositiveEffects[{selected:1b}] run scoreboard players set $temp actionbar.state 1
execute unless score $temp actionbar.state matches 0 run function actionbar:effect/time_calc

data remove storage actionbar:player Data.EffectSchedule[0]
execute store result score @s actionbar.effect.update_time run data get storage actionbar:player Data.EffectSchedule[0].Time
execute if predicate actionbar:effect/time_matched run function actionbar:effect/time_check
